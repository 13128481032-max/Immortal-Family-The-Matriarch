# 新手引导弹窗功能说明

## 功能概述
已为游戏添加了一个简洁美观的新手引导弹窗系统，帮助玩家快速上手游戏。

## 实现内容

### 1. 新建组件
- **文件位置**: `src/components/Modals/TutorialModal.jsx`
- **功能**: 提供分步式引导，包含5个核心步骤：
  1. 欢迎页面 - 介绍游戏目标和核心玩法
  2. 界面导航 - 讲解顶部状态栏和底部导航栏
  3. 修为反哺机制 - 核心玩法详解
  4. 威胁度系统 - 战斗系统介绍
  5. 开始游戏 - 总结和小提示

### 2. 特性
- ✅ 首次进入游戏时自动弹出
- ✅ 支持上一步/下一步导航
- ✅ 支持跳过引导
- ✅ 进度条显示当前步骤
- ✅ 精美的渐变UI设计
- ✅ 完成后自动记录，不再重复显示
- ✅ 使用localStorage保存用户状态

### 3. 集成方式
已在 `src/App.jsx` 中完成以下集成：
- 引入 `TutorialModal` 组件
- 添加 `showTutorial` 状态控制
- 在游戏主阶段（MAIN）首次加载时自动显示
- 使用 `has_read_tutorial_v2` 标记防止重复显示

## 测试方法

### 方法1: 清除localStorage测试
在浏览器控制台执行以下命令：
```javascript
localStorage.removeItem('has_read_tutorial_v2');
location.reload();
```

### 方法2: 完整新游戏体验
1. 清除所有游戏数据：
```javascript
localStorage.clear();
location.reload();
```
2. 完成序章后会自动弹出新手引导

### 方法3: 手动触发（开发调试）
可以在 `App.jsx` 中临时修改，强制显示：
```javascript
const [showTutorial, setShowTutorial] = useState(true); // 改为true
```

## 用户体验流程

```
游戏启动 
   ↓
序章（角色创建）
   ↓
进入主游戏（MAIN阶段）
   ↓
检测 has_read_tutorial_v2
   ↓
   ├─ 未读 → 显示新手引导弹窗（5步）
   │         ↓
   │      完成/跳过 → 保存标记
   │         ↓
   └─ 已读 → 直接进入游戏
          ↓
   正常游戏流程
```

## 与现有系统的关系

- **TutorialModal（新）**: 首次进入游戏的简化引导，5个步骤
- **GuideModal（原有）**: 详细的游戏指南，可随时在系统面板中查看

两者互补，新手引导负责快速上手，详细指南负责深度学习。

## 文件清单

### 新增文件
- `src/components/Modals/TutorialModal.jsx` - 新手引导弹窗组件

### 修改文件
- `src/App.jsx` - 集成新手引导弹窗逻辑

## UI设计特点

- 金色渐变主题，符合修仙风格
- 进度条实时显示当前步骤
- 支持键盘导航（上一步/下一步）
- 响应式设计，适配不同屏幕尺寸
- 平滑的淡入动画效果
- 清晰的步骤指示器

## 后续优化建议

1. **交互式引导**: 可以考虑添加高亮特定UI元素的功能
2. **动画效果**: 步骤切换时可以添加更流畅的过渡动画
3. **可定制性**: 允许玩家在设置中重新查看引导
4. **A/B测试**: 收集用户反馈，优化引导内容和顺序
5. **国际化**: 为多语言支持预留接口

## 注意事项

- localStorage标记版本号为 `v2`，避免与旧版本冲突
- 引导弹窗的 z-index 为 9999，确保在最上层显示
- 完成引导后会自动关闭，不会阻塞游戏进程
