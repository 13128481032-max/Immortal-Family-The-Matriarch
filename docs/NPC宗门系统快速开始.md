# NPC宗门系统快速开始指南

## 如何体验新功能

### 1. 启动游戏
```bash
npm run dev
```

### 2. 查看NPC宗门信息

#### 方式一：在NPC卡片上
- 在攻略对象列表中，每个NPC卡片的名字下方会显示宗门标签
- 颜色代表宗门等级：
  - 🟡 金色 = 顶级宗门（凌霄宗、天帝宗）
  - 🔵 蓝色 = 高级宗门（丹鼎阁、天雷宗等）
  - 🟢 绿色 = 中低级宗门
  - 🔴 红色 = 魔道宗门或叛徒
  - 🟣 紫色 = 隐藏身份
  - ⚫ 灰色 = 神秘
  - 🟤 棕色 = 散修

#### 方式二：在NPC详情页
- 点击"📋 详情"按钮
- 在NPC名字下方会显示完整的宗门信息和状态
- 包括宗门名称、职位、特殊状态等

### 3. 观察NPC相关的世界事件

#### 查看日志
1. 点击底部导航栏的"📜 日志"按钮
2. 在日志分类中选择"熟人动向"
3. 每月有30%概率生成与你认识的NPC相关的事件

#### 事件示例
```
【凌霄宗】真传弟子云霄在宗门大比中脱颖而出，获得长老青睐。
【修仙界震动】凌霄宗通缉叛徒陆昭，悬赏十万灵石。
【宗门冲突】【天帝宗】李寒与【天魔教】血无痕在秘境中相遇，爆发激烈战斗。
```

### 4. 多样化的NPC类型

#### 正道宗门弟子
- **特点**：稳定成长，有宗门资源支持
- **事件**：宗门大比、秘境试炼、突破庆贺
- **示例**：凌霄宗真传弟子、丹鼎阁炼丹师

#### 魔道宗门弟子
- **特点**：修炼快速但危险，可能走火入魔
- **事件**：屠戮炼功、被正道通缉、宗门战争
- **示例**：天魔教护法、血河派魔修

#### 叛出宗门者
- **特点**：隐姓埋名，被原宗门追杀
- **事件**：宗门悬赏、追杀令、黑市出没
- **示例**：陆昭（曾是凌霄宗外门弟子）

#### 隐藏身份者
- **特点**：表面正道，实则魔修
- **事件**：行事诡异、身份调查、暴露危机
- **示例**：某些魔道潜伏者

#### 神秘来历者
- **特点**：不透露宗门，独来独往
- **事件**：不生成宗门事件
- **示例**：佛修慧空、妖族半妖、古族遗民

#### 散修
- **特点**：无宗门加成，自力更生
- **事件**：不生成宗门事件
- **示例**：落魄散修、流浪剑客

### 5. 宗门系统的游戏影响

#### 攻略策略
- **顶级宗门弟子**：难度高但价值大，子嗣天赋好
- **叛徒**：可能需要帮助其躲避追杀，增加剧情深度
- **魔修**：危险但刺激，可能有特殊剧情
- **散修**：容易接近，但成长较慢

#### 世界事件互动
- 关注"熟人动向"类日志
- NPC的宗门活动会影响其实力和状态
- 可能触发特殊剧情（未来更新）

#### 子嗣影响（已有系统）
- NPC的宗门背景会影响子嗣入宗门的机会
- 顶级宗门弟子的子女更容易进入好宗门

### 6. 测试建议

#### 测试场景1：收集不同宗门的NPC
1. 新建游戏
2. 不断遇到新NPC
3. 观察他们的宗门分配是否合理
4. 尝试收集所有宗门的代表

#### 测试场景2：观察世界事件
1. 攻略多个NPC
2. 时间推进数月
3. 查看日志中的"熟人动向"
4. 观察事件描述是否与NPC身份匹配

#### 测试场景3：特殊身份NPC
1. 寻找佛修、妖族等特殊身份
2. 确认他们的宗门状态为"神秘"
3. 验证他们不会生成宗门事件

#### 测试场景4：叛徒剧情
1. 寻找宗门状态为"叛出"的NPC
2. 观察他们的描述是否提及叛逃
3. 等待相关的通缉事件出现

### 7. 常见问题

**Q: 为什么有些NPC没有宗门信息？**
A: 散修、神秘来历者（如佛修、妖族）本来就没有宗门归属。

**Q: 宗门事件多久出现一次？**
A: 每月有30%概率生成与你认识的NPC相关的事件。

**Q: 旧存档的NPC会有宗门信息吗？**
A: 旧存档的NPC不会自动获得宗门信息，只有新遇到的NPC才会自动分配。

**Q: 可以改变NPC的宗门吗？**
A: 当前版本不支持，但未来可能加入叛逃、转投等剧情。

**Q: 叛徒NPC会有特殊剧情吗？**
A: 当前主要是文本事件，未来可能加入帮助叛徒躲避追杀等互动剧情。

### 8. 反馈建议

如果你发现：
- 宗门分配不合理（如资质低却进入顶级宗门）
- 事件描述与NPC身份不符
- 显示bug或性能问题
- 有好的玩法建议

请及时反馈！

---

## 开发者说明

### 数据结构
每个NPC现在包含以下宗门相关字段：
```javascript
{
  sect: {...},           // 宗门对象（完整信息）
  sectId: 'SWORD',       // 宗门ID
  sectRank: '真传弟子',  // 宗门职位
  sectStatus: 'active'   // 状态：active/defected/hidden/mysterious/rogue
}
```

### 扩展方向
- 宗门任务系统
- 宗门声望系统
- 叛逃互动剧情
- 宗门大战事件
- 双修联盟政治影响

---

祝你游戏愉快！
